<canvas id="ctx" width="500" height="500" style="border:1px solid #000000;"></canvas>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
<script>
	var ctx = document.getElementById("ctx").getContext("2d");
	ctx.font = '30px Arial';
	
	var socket = io();
	
	socket.on('newPositions', function(data){
		ctx.clearRect(0,0,500,500);
		for(var i = 0; i < data.length; i++){
			ctx.fillText(data[i].number, data[i].x, data[i].y);
		}
	});
	
	document.onkeydown = function(event){
		switch(event.keyCode){
			case 68: //d
				socket.emit('keyPress', {inputId:'right', state:true});
				break;
			case 83: //s
				socket.emit('keyPress', {inputId:'down', state:true});
				break;
			case 65: //a
				socket.emit('keyPress', {inputId:'left', state:true});
				break;
			case 87: //w
				socket.emit('keyPress', {inputId:'up', state:true});
				break;
			default:
				break;
		};
	}
	document.onkeyup = function(event){
		switch(event.keyCode){
			case 68: //d
				socket.emit('keyPress', {inputId:'right', state:false});
				break;
			case 83: //s
				socket.emit('keyPress', {inputId:'down', state:false});
				break;
			case 65: //a
				socket.emit('keyPress', {inputId:'left', state:false});
				break;
			case 87: //w
				socket.emit('keyPress', {inputId:'up', state:false});
				break;
			default:
				break;
		};
	}
</script>
